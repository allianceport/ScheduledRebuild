# ScheduledRebuildプラグイン

## はじめに

このプラグインはMovableTypeでテンプレート毎に再構築のスケジュールを設定することを可能にします。

## インストール

1. (事前準備) run-periodic-taskが定期的に実行されるようにcronを設定してください。
1. プラグインを、MTのプラグインディレクトリに設置してください。

## 使い方

1. 各ブログのプラグイン設定画面から、ScheduledRebuildを選択します。
1. 「このブログでプラグインを使用する。」にチェックを入れます。
1. 「テンプレートIDリスト」にスケジュールを定義します。定義はyaml形式で行います。(フォーマットは後述)

## スケジュールの定義

再構築は「ハッシュの配列」として複数定義することができます。
以下に例を示します。


各定義は、3つのキーを持ちます。

- id: 定義の対象とするテンプレートのIDを配列で定義します。複数設定可能です。
- hour: 再構築が行なわれる時刻の「時」を配列で定義します。
- min:  再構築が行なわれる時刻の「分」を配列で定義します。

# 例

```
-
  id: 
    - 29
    - 40
  hour:
    - 10
    - 18
  min:
    - 0
    - 15
    - 30
    - 45
```

上記の例では、IDが29と40のテンプレートが、以下のタイミングで再構築されます。

- 10:00
- 10:15
- 10:30
- 10:45
- 18:00
- 18:15
- 18:30
- 18:45

## より具体的な例

```
-
  id: 
    - 29
    - 40
  hour:
    - 10
    - 11
    - 12
  min:
    - 0
    - 15
    - 30
    - 45
-
  id:
    - 40
  hour:
    - 0
  min:
    - 0
-
  id:
    - 10
  hour:
    - 12
  min:
    - 30
```

連絡先
------

作者：[Alliance Port, LLC](http://www.allianceport.jp/)

